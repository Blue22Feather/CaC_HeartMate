{"ast":null,"code":"import axios from'axios';const main_url='';const config={timeout:5000};/**\n * @param {{username: string, password: string}} data \n * @param {Function} callback \n */export async function request_login(data,callback){try{const response=await axios.post(\"\".concat(main_url,\"/system/login\"),data,config);if(response){if(response.data.token&&response.data.user){callback(null,response.data);}else{callback(response,null);}}else{callback('noResponse',null);}}catch(error){if(error.response.headers['content-type']===\"text/html; charset=utf-8\"){window.open().document.write(error.response.data);callback({data:{error:'INTERNAL_SERVER_ERROR'}},null);}else{callback(error.response,null);}}}/**\n * @param {{username: string, password: string, name: string, lastname: string, usertype: string}} data \n * @param {Function} callback \n */export async function request_register(data,callback){try{const response=await axios.post(\"\".concat(main_url,\"/system/register\"),data,config);if(response){if(response.data.token&&response.data.user){callback(null,response.data);}else{callback(response,null);}}else{callback('noResponse',null);}}catch(error){if(error.response.headers['content-type']===\"text/html; charset=utf-8\"){window.open().document.write(error.response.data);callback({data:{error:'INTERNAL_SERVER_ERROR'}},null);}else{callback(error.response,null);}}}/**\n * \n * @param {{user: string}} data user is user email string, like \"coso3000@gmail.com\" \n * @param {Function} callback \n */export async function request_userPic(data,callback){try{const response=await axios.post(\"\".concat(main_url,\"/system/user_pic\"),data,config);if(response){if(response.data.url){callback(null,main_url+response.data.url);}else{callback(response,null);}}else{callback('noResponse',null);}}catch(error){if(error.response.headers['content-type']===\"text/html; charset=utf-8\"){window.open().document.write(error.response.data);callback({data:{error:'INTERNAL_SERVER_ERROR'}},null);}else{callback(error.response,null);}}}/**\n* @param {object} filesObject provided by useDropzone\n*/export async function sendFilesToServer(filesObject,callback){const formData=new FormData();filesObject.forEach(file=>{formData.append('file',file);});try{const response=await axios.post(\"\".concat(main_url,\"/system/upload\"),formData,{headers:{'Content-Type':'multipart/form-data'}});if(response){if(response.data.url){window.open(main_url+response.data.url,'_blank');callback(null,'recibed_server_page');}else{callback(response,null);}}else{callback('noResponse',null);}}catch(error){if(error.response.headers['content-type']===\"text/html; charset=utf-8\"){window.open().document.write(error.response.data);callback({data:{error:'INTERNAL_SERVER_ERROR'}},null);}else{callback(error.response,null);}}};","map":{"version":3,"names":["axios","main_url","config","timeout","request_login","data","callback","response","post","concat","token","user","error","headers","window","open","document","write","request_register","request_userPic","url","sendFilesToServer","filesObject","formData","FormData","forEach","file","append"],"sources":["/ufs/walther22wolff/Workspace - Programming/0. Web Applications - Repok/1. NodeJS_React - Repok/heartmate_page/src/scripts/server_com.js"],"sourcesContent":["import axios from 'axios';\n\nconst main_url = '';\nconst config = {timeout: 5000};\n\n/**\n * @param {{username: string, password: string}} data \n * @param {Function} callback \n */\nexport async function request_login (data, callback) {\n    try {\n        const response = await axios.post(`${main_url}/system/login`, data, config)\n        if (response) {\n            if (response.data.token && response.data.user) {\n                callback(null, response.data);\n            } else {\n                callback(response, null)\n            }\n        } else {\n            callback('noResponse', null)  \n        }\n    } catch (error) {\n        if (error.response.headers['content-type'] === \"text/html; charset=utf-8\") {\n            window.open().document.write(error.response.data);\n            callback({ data: {error: 'INTERNAL_SERVER_ERROR'}}, null)\n        } else {\n            callback(error.response, null)\n        }\n    }\n}\n\n/**\n * @param {{username: string, password: string, name: string, lastname: string, usertype: string}} data \n * @param {Function} callback \n */\nexport async function request_register (data, callback) {\n    try {\n        const response = await axios.post(`${main_url}/system/register`, data, config)\n        if (response) {\n            if (response.data.token && response.data.user) {\n                callback(null, response.data);\n            } else {\n                callback(response, null)\n            }\n        } else {\n            callback('noResponse', null)\n        }\n    } catch (error) {\n        if (error.response.headers['content-type'] === \"text/html; charset=utf-8\") {\n            window.open().document.write(error.response.data);\n            callback({ data: {error: 'INTERNAL_SERVER_ERROR'}}, null)\n        } else {\n            callback(error.response, null)\n        }\n    }\n}\n\n/**\n * \n * @param {{user: string}} data user is user email string, like \"coso3000@gmail.com\" \n * @param {Function} callback \n */\nexport async function request_userPic (data, callback) {\n    try {\n        const response = await axios.post(`${main_url}/system/user_pic`, data, config)\n        if (response) {\n            if (response.data.url) {\n                callback(null, main_url+response.data.url);\n            } else {\n                callback(response, null)\n            }\n        } else {\n            callback('noResponse', null)  \n        }\n    } catch (error) {\n        if (error.response.headers['content-type'] === \"text/html; charset=utf-8\") {\n            window.open().document.write(error.response.data);\n            callback({ data: {error: 'INTERNAL_SERVER_ERROR'}}, null)\n        } else {\n            callback(error.response, null)\n        }\n    }\n}\n\n/**\n* @param {object} filesObject provided by useDropzone\n*/\nexport async function sendFilesToServer (filesObject, callback) {\n    const formData = new FormData();\n    filesObject.forEach(file => {\n        formData.append('file', file);\n    });\n\n    try {\n        const response = await axios.post(`${main_url}/system/upload`, formData, {headers: {'Content-Type': 'multipart/form-data'}});\n        \n        if (response) {\n            if (response.data.url) {\n                window.open(main_url+response.data.url, '_blank');\n                callback(null, 'recibed_server_page')\n            } else {\n                callback(response, null)\n            }\n        } else {\n            callback('noResponse', null)\n        }\n    } catch (error) {\n        if (error.response.headers['content-type'] === \"text/html; charset=utf-8\") {\n            window.open().document.write(error.response.data);\n            callback({ data: {error: 'INTERNAL_SERVER_ERROR'}}, null)\n        } else {\n            callback(error.response, null)\n        }\n    }\n};"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,KAAM,CAAAC,QAAQ,CAAG,EAAE,CACnB,KAAM,CAAAC,MAAM,CAAG,CAACC,OAAO,CAAE,IAAI,CAAC,CAE9B;AACA;AACA;AACA,GACA,MAAO,eAAe,CAAAC,aAAaA,CAAEC,IAAI,CAAEC,QAAQ,CAAE,CACjD,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAP,KAAK,CAACQ,IAAI,IAAAC,MAAA,CAAIR,QAAQ,kBAAiBI,IAAI,CAAEH,MAAM,CAAC,CAC3E,GAAIK,QAAQ,CAAE,CACV,GAAIA,QAAQ,CAACF,IAAI,CAACK,KAAK,EAAIH,QAAQ,CAACF,IAAI,CAACM,IAAI,CAAE,CAC3CL,QAAQ,CAAC,IAAI,CAAEC,QAAQ,CAACF,IAAI,CAAC,CACjC,CAAC,IAAM,CACHC,QAAQ,CAACC,QAAQ,CAAE,IAAI,CAAC,CAC5B,CACJ,CAAC,IAAM,CACHD,QAAQ,CAAC,YAAY,CAAE,IAAI,CAAC,CAChC,CACJ,CAAE,MAAOM,KAAK,CAAE,CACZ,GAAIA,KAAK,CAACL,QAAQ,CAACM,OAAO,CAAC,cAAc,CAAC,GAAK,0BAA0B,CAAE,CACvEC,MAAM,CAACC,IAAI,CAAC,CAAC,CAACC,QAAQ,CAACC,KAAK,CAACL,KAAK,CAACL,QAAQ,CAACF,IAAI,CAAC,CACjDC,QAAQ,CAAC,CAAED,IAAI,CAAE,CAACO,KAAK,CAAE,uBAAuB,CAAC,CAAC,CAAE,IAAI,CAAC,CAC7D,CAAC,IAAM,CACHN,QAAQ,CAACM,KAAK,CAACL,QAAQ,CAAE,IAAI,CAAC,CAClC,CACJ,CACJ,CAEA;AACA;AACA;AACA,GACA,MAAO,eAAe,CAAAW,gBAAgBA,CAAEb,IAAI,CAAEC,QAAQ,CAAE,CACpD,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAP,KAAK,CAACQ,IAAI,IAAAC,MAAA,CAAIR,QAAQ,qBAAoBI,IAAI,CAAEH,MAAM,CAAC,CAC9E,GAAIK,QAAQ,CAAE,CACV,GAAIA,QAAQ,CAACF,IAAI,CAACK,KAAK,EAAIH,QAAQ,CAACF,IAAI,CAACM,IAAI,CAAE,CAC3CL,QAAQ,CAAC,IAAI,CAAEC,QAAQ,CAACF,IAAI,CAAC,CACjC,CAAC,IAAM,CACHC,QAAQ,CAACC,QAAQ,CAAE,IAAI,CAAC,CAC5B,CACJ,CAAC,IAAM,CACHD,QAAQ,CAAC,YAAY,CAAE,IAAI,CAAC,CAChC,CACJ,CAAE,MAAOM,KAAK,CAAE,CACZ,GAAIA,KAAK,CAACL,QAAQ,CAACM,OAAO,CAAC,cAAc,CAAC,GAAK,0BAA0B,CAAE,CACvEC,MAAM,CAACC,IAAI,CAAC,CAAC,CAACC,QAAQ,CAACC,KAAK,CAACL,KAAK,CAACL,QAAQ,CAACF,IAAI,CAAC,CACjDC,QAAQ,CAAC,CAAED,IAAI,CAAE,CAACO,KAAK,CAAE,uBAAuB,CAAC,CAAC,CAAE,IAAI,CAAC,CAC7D,CAAC,IAAM,CACHN,QAAQ,CAACM,KAAK,CAACL,QAAQ,CAAE,IAAI,CAAC,CAClC,CACJ,CACJ,CAEA;AACA;AACA;AACA;AACA,GACA,MAAO,eAAe,CAAAY,eAAeA,CAAEd,IAAI,CAAEC,QAAQ,CAAE,CACnD,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAP,KAAK,CAACQ,IAAI,IAAAC,MAAA,CAAIR,QAAQ,qBAAoBI,IAAI,CAAEH,MAAM,CAAC,CAC9E,GAAIK,QAAQ,CAAE,CACV,GAAIA,QAAQ,CAACF,IAAI,CAACe,GAAG,CAAE,CACnBd,QAAQ,CAAC,IAAI,CAAEL,QAAQ,CAACM,QAAQ,CAACF,IAAI,CAACe,GAAG,CAAC,CAC9C,CAAC,IAAM,CACHd,QAAQ,CAACC,QAAQ,CAAE,IAAI,CAAC,CAC5B,CACJ,CAAC,IAAM,CACHD,QAAQ,CAAC,YAAY,CAAE,IAAI,CAAC,CAChC,CACJ,CAAE,MAAOM,KAAK,CAAE,CACZ,GAAIA,KAAK,CAACL,QAAQ,CAACM,OAAO,CAAC,cAAc,CAAC,GAAK,0BAA0B,CAAE,CACvEC,MAAM,CAACC,IAAI,CAAC,CAAC,CAACC,QAAQ,CAACC,KAAK,CAACL,KAAK,CAACL,QAAQ,CAACF,IAAI,CAAC,CACjDC,QAAQ,CAAC,CAAED,IAAI,CAAE,CAACO,KAAK,CAAE,uBAAuB,CAAC,CAAC,CAAE,IAAI,CAAC,CAC7D,CAAC,IAAM,CACHN,QAAQ,CAACM,KAAK,CAACL,QAAQ,CAAE,IAAI,CAAC,CAClC,CACJ,CACJ,CAEA;AACA;AACA,EACA,MAAO,eAAe,CAAAc,iBAAiBA,CAAEC,WAAW,CAAEhB,QAAQ,CAAE,CAC5D,KAAM,CAAAiB,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BF,WAAW,CAACG,OAAO,CAACC,IAAI,EAAI,CACxBH,QAAQ,CAACI,MAAM,CAAC,MAAM,CAAED,IAAI,CAAC,CACjC,CAAC,CAAC,CAEF,GAAI,CACA,KAAM,CAAAnB,QAAQ,CAAG,KAAM,CAAAP,KAAK,CAACQ,IAAI,IAAAC,MAAA,CAAIR,QAAQ,mBAAkBsB,QAAQ,CAAE,CAACV,OAAO,CAAE,CAAC,cAAc,CAAE,qBAAqB,CAAC,CAAC,CAAC,CAE5H,GAAIN,QAAQ,CAAE,CACV,GAAIA,QAAQ,CAACF,IAAI,CAACe,GAAG,CAAE,CACnBN,MAAM,CAACC,IAAI,CAACd,QAAQ,CAACM,QAAQ,CAACF,IAAI,CAACe,GAAG,CAAE,QAAQ,CAAC,CACjDd,QAAQ,CAAC,IAAI,CAAE,qBAAqB,CAAC,CACzC,CAAC,IAAM,CACHA,QAAQ,CAACC,QAAQ,CAAE,IAAI,CAAC,CAC5B,CACJ,CAAC,IAAM,CACHD,QAAQ,CAAC,YAAY,CAAE,IAAI,CAAC,CAChC,CACJ,CAAE,MAAOM,KAAK,CAAE,CACZ,GAAIA,KAAK,CAACL,QAAQ,CAACM,OAAO,CAAC,cAAc,CAAC,GAAK,0BAA0B,CAAE,CACvEC,MAAM,CAACC,IAAI,CAAC,CAAC,CAACC,QAAQ,CAACC,KAAK,CAACL,KAAK,CAACL,QAAQ,CAACF,IAAI,CAAC,CACjDC,QAAQ,CAAC,CAAED,IAAI,CAAE,CAACO,KAAK,CAAE,uBAAuB,CAAC,CAAC,CAAE,IAAI,CAAC,CAC7D,CAAC,IAAM,CACHN,QAAQ,CAACM,KAAK,CAACL,QAAQ,CAAE,IAAI,CAAC,CAClC,CACJ,CACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}